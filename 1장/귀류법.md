### 귀류법

이제 막 출발한 완행 열차의 차장이 철도청 웹사이트의 오류 때문에 규정 인원보다 많은 승객이 표를 예매했다는것을 깨달았다고 가정하면,

처음에는 자리가 남아 있었지만 앞으로 지나칠 역에서 승객들이 더 탑승하면 열차가 미어터질 것이 뻔한 상황이어서, 차장은 안전 규정을 어기느니

원성을 듣더라도 일부 승객에서 내려서 다음 열차를 기다리라고 말하고 싶다. 각 승객이 어느 역에서 승차해 어느역에서 하차할지를 모두 알고 있을때,

열차에서 쫓겨나는 불쌍한 승객의 수를 최소화 하기 위해서는 누구를 쫓아내는 것이 좋을까

현명한 차장은 바로 가장 멀리 가는 사람들이다. 역에서 정차할 때마다  승객들 중 멀리 가는 순서대로 안전 규정을 초과하는 인원수만큼을 쫓아내는 것이다.

이유는 다른 사람을 내쫓았다고 가정하고 논리를 전개해보면 해답을 찾을 수 있는데, 어떠한 특정 인원을 쫓아내도 기차에 탈 수 있는 사람의 수는 변하지 않는다.

이렇게 되면 우리가 원하는 바와 반대되는 상황을 가정핟고 논리를 전개해서 결론이 잘못되었음을 찾아내는 기법을 귀류법이라고 한다.

대개 어떤 선택이 항상 최선임을 증며하고자 할 때 많이 이용된다.

------------------------------------------------------------

### 책장 쌓기

상자 형태로 된 책장을 여러 개 쌓아올리려고 한다. 무거운 것 부터 가벼운 것 매우 다양한 책장들이 있다고 가정하면

책장마다 버틸 수 있는 최대 무게 M와 자신의 무게 W가 주어진다고 하자. 이떄 책장을 가장 높이 쌓는다면 몇 개나 쌓을 수 있을까?

책장 위에 올라간 다른 책장들의 무게의 합이 견딜 수 있는 최대 무게를 초과하면 안 된다.

이 문제를 풀기 위한 첫 번째 관문은 책장을 쌓는 순서를 결정하는 것이다.

책장들이 항상 어떤 순서를 가진다는 것을 보일수 있다고 하면, 처음에 주어진 책장들을 가벼운 것부터 무거운 것까지 정렬한 뒤 이제는 순서에 신경 쓰지 않고 어느 책장을

고를 것인가에만 집중할 수 있기 때문이다. W로 정렬해 가장 무거운 책장일수록 아래에 놓아야할까? 아니면 M로 정렬해 가장 튼튼한 책장을 아래에 놓아야 할까?

정답은 견딜 수 있는 최대무게와 자신의 무게의 합 M + W가 큰 것부터 아래에 놓아야한다.

이것을 증명하기 위해 귀류법을 사용하면  우리가 증명하려는 사실의 반대를 가정해야 한다. 어떤 입력의 최적해를 구했는데 M+W가 더 큰 책장 A가 더 작은

책장 B 위에 올라간 형태라고 가정하면, 합이 큰 것부터 아래에 놓아야하는데 A가 B위에 올라가 있으니 이것은 우리가 원하는 바와 반대이다.

이때 A와 B의 위치를 항상 바꿀 수 있음을 증명해봅시다. 그러면 M + W가 큰 것이 밑에 가도록 책장ㅇ르 쌓아도 최선의 답을 얻을 수 있다는 증거가 된다.

B는 윗칸으로 올라가니 견뎌야 할 무게가 더 줄어들고, 반드시 위에 올릴 수 있다. 문제는 기존에 위에 있던 상자들에 더해 B의 무게까지를 A가 견딜 수 있느냐는 것이다.

그러나 부등식 A의 M + W > B의 M + W 에서 A의 M만을 좌변에 남기면

AM  > BM + BW - AW

A가 위에 올라가 있는 상자들의 무게의 합을 X라고 하면 가장 좋은 답에서 A가 B위에 올라갔으니 AM >= AW + X임을 알 수 있다.

이것과 위 식을 합쳐 보면 AM > BM + BW - AW >= (AW + X)+ BW - AW

맨 오른쪽의 AW 들이 더하고 빠지면 다음 식만 남는다.

AM > X + BW

이 말은 A도 B와 나머지 모든 상자들을 지탱할 수 있다는 말이다. 따라서 우리가 원하는 순서대로 쌓았을 때 가장 높은 탑을 얻지 못하는 경우는 존재하지 않는다.

-------------------------------------------

### 귀류법을 이용한 증명들

귀납법과 귀류법을 모두 이용한 증명들을 많이 볼 수 있다.

알고리즘의 결과가 최선임을 보이기 위해 각 단계에서 선택을 함을 귀류법으로 증명하고, 각 단계에서 최선의 선택을 한다면 다음 단계에서도 

최선의 선택을 할 수 있음을 귀납법으로 증명하는 것이다.
