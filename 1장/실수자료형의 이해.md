### 실수 연산의 어려움

수학의 영역에서 1/x * x = 1의 값을 반환해야하지만 컴퓨터에서 함수를 만들어 사용하면 결과 값이 그렇게 반환되지 않는다.

```C++
int countObvious(int n)
{
  int same = 0;
  for(int x = 1; x <= n; ++x)
  {
    double y = 1.0 / x;
    if(y * x == 1.0)
      ++same;
  }
  return same;
}
```
이와 같이 함수를 만들어 사용해서 50이란 값을 n에 넣으면 49가 반환 된다.

이는 컴퓨터가 사용하는 실수 표현 방식에 대해 알아야한다.

### 실수와 근사 값

우리가 일상적으로 다루는 정수들은 컴퓨터가 정확하게 표현이 가능하다.

하지만 실수를 다루게 되면 무한의 값도 존재할 수 있기 때문에

근사 값을 사용해야한다.

근사값은 실수의 계산에서 같은 수식을 두 번 계산 하더라도 어떤 순서로 계산하는지, 컴파일러 최적화는 켰는지 등에 여부에 따라 답이 달라질 수 있다.

### IEEE 754

가장 많은 컴퓨터/컴파일러들에서 사용되는 실수 표기 방식은 IEEE 754 표준이라 한다. IEEE 754는 다음과 같은 특징이 있다.

    * 이진수로 실수를 표기
    * 부동 소수점(float-point)표기법
    * 무한대,비정규 수 등 의 특수 값이 존재
    
### 실수의 이진법 표기

실수를 이진법으로 쓰는 방법은 간단하다.

12.34를 실수의 십진법 표기로 본다. 마지막 자리의 4가 5로 변한다면 전체 수는 0.01만큼 커진다. 그 앞자리의 3이 4로 변한다면

전체 수는 0.1만큼 커진다. 이렇게 소수점 바로 아래 자리의 3이 4로 변한다면 전체 수는 0.1만큼 커진다.

이렇게 소수점 바로 아래 자리의 크기는 1/10, 그 다음 자리의 크기는 1/100이 된다. 일반화 하면 소수점 밑 i번째 자리 크기는 1/10^i라고 표현

실수의 이진수 표기도 같은 방식으로 사용

소수점 밑 i번째 자리의 크기는 1/2^i

이진법으로 쓴 실수 1011.101의 경우 정수부인 1011은 2^3 + 2^1 + 2^0 = 11이다. 소수부 첫 짜리의 크기는 1/2,1/2^3 이므로 0.625가 되어 11.625로 표현


### 부동 소수점 표기

11.625를 이진법으로 쓰면 1011.101이 되고 소수점을 왼쪽으로 세칸 옮기면 1.011101이 된다. 이 수를 맨 앞에서부터 저장 공간이 허락하는 만큼

저장하는것. 이진법에서 소수점위에 있을 수 있는 유일한 숫자는 1이므로

IEEE 754에서는 1을 제외한 나머지를 저장하는 방식으로 1비트를 절약한다. 예를 들어 5비트만을 저장할 수 있다면 우리는 최상위 비트를 제외한 다음

5비트인  01110을 저장하게 된다. 이때 3가지 정보를 저장하게 되는데

    * 부호비트(sign bit): 양수인지 음수인지
    * 지수(exponent) : 소수점을 몇칸 옮겼나
    * 가수(mantisasa) : 소수점을 옮긴 실수의 최상위 X비트
    
지수와 가수가 갖는 비중을 어떻게 조절하느냐에 따라서 실수혀이 표현할 수 있는 숫자의 크기와 정확도가 결정된다.

IEEE 754를 만든 사람들은 실수형에서 지수보다 가수에 훨씬 많은 비트수를 부여하기로 결정했다.


### 실수 표현하기
