### 재귀호출 

컴퓨터가 수행하는 많은 작업들은 대개 작은 조각들로 나누어 볼 수 있다.

온라인으로 물건을 사면 카드회사에서 정보 보내기, 데이터베이스 갱신, 결제 완료 이메일 보내기 등으로 나눌 수 있다.

범위가 작아지면 작아질수록 형태가 유사해지는 작업들을 많이 보이는데 이는 for문과 같은 반복문이 좋은 예이다.

이런 작업을 구현할 때 사용하는 개념이 재귀 함수(recursive function)이다.

재귀 함수란 자신이 수행할 작업을 유사한 형태의 여러 조각으로 쪼갠 뒤 그 중 한 조각을 수행하고, 나머지를 자기 자신을 호출해 실행하는 함수를 말한다.

ex) 자연수 n이 주어졌을 때 1부터 n까지의 합을 반환하는 함수 sum()
```C++
int sum(int n) {
  int ret = 0;
  for(int i = 0;i <= n; i++) 
    ret +=1;
  return ret;
}

int recursiveSum(int n) {
  if(n == 1) return 1;
  return n + recursiveSum(n-1);
}
```

유의할 것은 n개의 조각 중 n이 아니라 1을 빼냈을 경우로는 해결을 할 수 없다.

1을 빼고 나면 2부터 n까지의 합이 남는데, 이것은 1부터 n까지의 합을 구한다는 원래 문제와 다른 형태가 되어 버린다.

위 recursiveSum()에서 n - 1이면 조각이 하나뿐이니 , 한 개를 빼고 나면 더이상 처리할 작업이 없어진다.

이처럼 재귀함수에서는 최소한의 작업에 도달했을 때 답을 곧장 반환하는 조건문을 넣어주어야 한다.

이때 쪼개지지 않는 가장 작은 작업들을 가리켜 재귀호출의 기저사례(base case)라고 한다.

-------------------------------------------------

### 중첩 반복문 대체하기

n개의 원소 중 네 개를 고르는 모든 경우를 출력하는 코드를 작성해본다면, 

n = 7이면 (0,1,2,3)(0,1,2,4).....(3,4,5,6)의 모든 경우를 출력하는 것.

코드로 보면

```C++
for(int i = 0; i < n; i++)
  for(int j = i + 1; j < n;j++)
    for(int k = j + 1; k < n ; k++)
      for(int l = k + 1; l < n ;l++)
        cout << i << " " << j << " " << k << " " << l << endl; 
```

간단하게 생각하면 이렇게 코드를 짤 수 있지만 골라야되는 원소가 늘어나면 굉장히 복잡해진다.

위 코드 조각이 하는 작업은 4개로 나눌 수 있는데, 각 조각에서 하나의 원소를 고른다.

어떤 원소를 고르면 남은 원소들을 고르는 작업을 자기 자신을 호출해 떠넘기는 재귀 함수를 작성할 수 있다.

작업의 입력 집합은 다음과 같다.

```
1. 원소들의 총 개수
2. 더 골라야 할 원소들의 개수
3. 지금까지 고른 원소들의 번호
```

#### n개의 원소 중 m개를 고르는 모든 조합을 찾는 알고리즘 

```C++
//n : 전체 원소의 수
//picked : 지금까지 고른 원소의 수
//toPick : 더 고를 원소르의 수

void pick(int n, vector<int>& picked, int toPick) {
  //기저 사례 : 더 고를 원소가 없을 때 고른 원소들을 출력
  if(toPick == 0) { printPicked(picked); return ;}
  // 고를 수 있는 가장 적은 번호를 계산한다.
  int smallest = picked.empty() ? 0 : picked.back() + 1;
  //이 단계에서 원소 하나를 고른다.
  
  for(int next = smallest; next < n; next++) {
    picked.push_back(next);
    pick(n,picked,toPick - 1);
    picked.pop_back();
    }
}
```

재귀 호출을 이용하면 특정 조건을 만족하는 조합을 모두 생성하는 코드를 쉽게 작성할 수 있다.

완전 탐색을 구현할 때 유용한 도구이다.

